#include <iostream>
# include "colors.h"

#ifndef ANIMAL_HPP
# define ANIMAL_HPP

class Animal
{
	protected:
		std::string type;
	public:
		Animal();
		Animal(const std::string& type);
		Animal& operator=(const Animal& animal);
		Animal(const Animal& animal);
		const std::string& getType() const;
		virtual void makeSound() const;
		virtual ~Animal();
};

#endif
#include <iostream>
#include "colors.h"

#ifndef BRAIN_HPP
# define BRAIN_HPP 

class Brain
{
    private:
        std::string ideas[100];
    public:
        Brain();
        Brain(const std::string& idea);
        Brain(const Brain& obj);
        void getIdea(int i) const;
        void getIdeas() const;
        Brain& operator=(const Brain& obj);
        ~Brain();
};

#endif#include "Animal.hpp"
#include "Brain.hpp"

#ifndef CAT_HPP
# define CAT_HPP 

class Cat : public Animal
{
	private:
		Brain* b;
	public:
		Cat();
		Cat(const Brain& brain);
		Cat& operator=(const Cat& animal);
		Cat(const Cat& animal);
		void makeSound() const;
		void printIdea(int ) const;
		void printIdeas() const;
		~Cat();
};
#endif
#include "Animal.hpp"
#include "Brain.hpp"

#ifndef DOG_HPP
#define DOG_HPP 

class Dog : public Animal
{
	private:
		Brain *brain;
	public:
		Dog();
		Dog& operator=(const Dog& animal);
		Dog(const Dog& animal);
		void makeSound() const;
		~Dog();
};

#endif
#include <iostream>
#include "colors.h"

#ifndef WRONGANIMAL_HPP
# define WRONGANIMAL_HPP

class WrongAnimal
{
	protected:
		std::string type;
	public:
		WrongAnimal();
		WrongAnimal(const std::string& type);
		WrongAnimal& operator=(const WrongAnimal& animal);
		WrongAnimal(const WrongAnimal& animal);
		const std::string& getType() const;
		void makeSound() const;
	   	~WrongAnimal();
};

#endif#include "WrongAnimal.hpp"

#ifndef WrongWrongCat_HPP
#define WrongWrongCat_HPP 

class WrongCat : public WrongAnimal
{
	public:
		WrongCat();
		WrongCat(const std::string& type);
		WrongCat& operator=(const WrongCat& animal);
		WrongCat(const WrongCat& animal);
		void makeSound() const;
		~WrongCat();
};
#endif
#include "Animal.hpp"

Animal::Animal()
{
	type = "Animal";
	std::cout << Blue << type << " default constructor\n" << RESET;
}

Animal::Animal(const std::string& type)
{
	this->type = type;
	std::cout << Blue << "Animal default parametrized constructor\n" << RESET;
}

Animal::Animal(const Animal& other)
{
	this->type = other.type;
	std::cout << Blue << "Animal copy constructor\n" << RESET;
}

Animal& Animal::operator=(const Animal& other)
{
	std::cout << Blue << "Animal copy assignement operator\n" << RESET;
	if (this != &other)
		this->type = other.type;
	return *this;
}

const std::string& Animal::getType() const
{
	return this->type;
}

void Animal::makeSound() const
{
	std::cout << Blue << "this is Animal\n" << RESET;
}

Animal::~Animal()
{
	std::cout << RED << "Animal Destructor\n" << RESET;
}
#include "Brain.hpp"
#include "string"

Brain::Brain()
{
    std::cout << Yellow << "Default constructor of Brain\n" << RESET;
    for (int i = 0; i < 100; i++)
        ideas[i] = "assan";
}
Brain::Brain(const std::string& idea)
{
    std::cout << Yellow << "Default constructor of Brain\n" << RESET;
    for (int i = 0; i < 100; i++)
        ideas[i] = idea;
}

Brain::Brain(const Brain& other)
{
    std::cout << Yellow << "Copy constructor of Brain\n" << RESET;
    for (int i = 0; i < 100; i++)
        ideas[i] = other.ideas[i];
}

Brain& Brain::operator=(const Brain& other)
{
    std::cout << Yellow << "Copy assignement operator of Brain\n" << RESET;
    if (this != &other)
    {
        for (int i = 0; i < 100; i++)
            ideas[i] = other.ideas[i];
    }
    return *this;
}

void Brain::getIdea(int i) const
{
    std::cout << ideas[i] << "\n";
}
void Brain::getIdeas() const
{
    for (int i = 0; i < 100; i++)
        std::cout << ideas[i] << " - ";
    std::cout << "\n";
}

Brain::~Brain()
{
    std::cout << Yellow << "Brain's Destructor\n";
}#include "Cat.hpp"

Cat::Cat() : Animal()
{
	type = "Cat";
	std::cout << Green << type << " default constructor\n" << RESET;
	b = new Brain();
}

Cat::Cat(const Brain& brain) : Animal()
{
	type = "Cat";
	std::cout << Green << type << " default constructor\n" << RESET;
	b = new Brain(brain);
}

Cat::Cat(const Cat& obj) : Animal(obj)
{
	std::cout << Green << type << " copy constructor\n" << RESET;
	b = new Brain(*obj.b);
}

Cat& Cat::operator=(const Cat& other)
{
	std::cout << Green << type << " copy assignement operator\n" << RESET;
	if (this != &other)
	{
		Animal::operator=(other);
		delete b;
		b = new Brain(*other.b);
	}
	return *this;
}

void Cat::makeSound() const
{
	std::cout << Green << "this is cat Meow\n" << RESET;
}

void Cat::printIdea(int i) const
{
	b->getIdea(i);
}

void Cat::printIdeas() const
{
	b->getIdeas();
}

Cat::~Cat()
{
	delete b;
	std::cout << Green << type << " Destructor\n" << RESET;
}
#include "Dog.hpp"

Dog::Dog() : Animal()
{
	type = "Dog";
	std::cout << Cyan << type << " default constructor\n" << RESET;
	brain = new Brain();
}

Dog::Dog(const Dog& anim) : Animal(anim)
{
	std::cout << Cyan << type << " copy constructor\n" << RESET;
	brain = new Brain(*anim.brain);
}

Dog& Dog::operator=(const Dog& other)
{
	std::cout << Cyan << type << " copy assignement operator\n" << RESET;
	if (this != &other)
	{
		Animal::operator=(other);
		delete brain;
		brain = new Brain(*other.brain);
	}
	return *this;
}

void Dog::makeSound() const
{
	std::cout << Cyan << "this is Dog wof wof\n" << RESET;
}

Dog::~Dog()
{
	delete brain;
	std::cout << Cyan << type << " Destructor\n" << RESET;
}
#include "Dog.hpp"
#include "Cat.hpp"
#include "WrongAnimal.hpp"
#include "WrongCat.hpp"


int main()
{
	{
		std::cout << "-------------------buggy assignement tests--------------------\n";
		Brain b = Brain("hello");
		Cat va(b);
	
		Cat s = va;
		std::cout << "-------------------va chabged here--------------------\n";
		va = Brain("change va");
		va.printIdea(1);
		std::cout << "-------------------va chabged here--------------------\n";
		s.printIdea(1);

		std::cout << "-------------------destructors begin fin--------------------\n";
	}

	{
		WrongCat C = WrongCat("wrong first");
		std::cout << "-------------------Normall output--------------------\n";
		const Animal *a = new Dog();
		const Animal *b = new Cat();
		Cat *ca = new Cat();
		ca->printIdeas();

		a->makeSound();
		b->makeSound();

		std::cout << "-------------------Destructors--------------------\n";
		delete ca;
		delete a;
		delete b;
	}
}
#include "WrongAnimal.hpp"

WrongAnimal::WrongAnimal()
{
	type = "WrongAnimal";
	std::cout << Blue << type << " default constructor\n" << RESET;
}

WrongAnimal::WrongAnimal(const std::string& type)
{
	this->type = type;
	std::cout << Blue << type << " default parametrized constructor\n" << RESET;
}

WrongAnimal::WrongAnimal(const WrongAnimal& other)
{
	this->type = other.type;
	std::cout << Green << type << " copy constructor\n" << RESET;
}

WrongAnimal& WrongAnimal::operator=(const WrongAnimal& other)
{
	std::cout << Green << type << "copy assignement operator\n" << RESET;
	if (this != &other)
		this->type = other.type;
	return *this;
}

const std::string& WrongAnimal::getType() const
{
	return this->type;
}

void WrongAnimal::makeSound() const
{
	std::cout << Yellow << "this is WrongAnimal\n" << RESET;
}

WrongAnimal::~WrongAnimal()
{
	std::cout << RED << "WrongAnimal Destructor\n" << RESET;
}
#include "WrongCat.hpp"

WrongCat::WrongCat()
{
	type = "WrongCat";
	std::cout << Blue << type << " default constructor\n" << RESET;
}

WrongCat::WrongCat(const std::string& type) : WrongAnimal(type)
{
	std::cout << Blue << type << " default parametrized constructor\n" << RESET;
}

WrongCat::WrongCat(const WrongCat& obj)
{
	std::cout << Green << type << " copy constructor\n" << RESET;
	this->type = obj.type;
}

WrongCat& WrongCat::operator=(const WrongCat& other)
{
	std::cout << Green << type << "copy assignement operator\n" << RESET;
	if (this != &other)
		WrongAnimal::operator=(other);
	return *this;
}

void WrongCat::makeSound() const
{
	std::cout << Yellow << "this is WrongCat Meow\n" << RESET;
}

WrongCat::~WrongCat()
{
	std::cout << RED << type << " Destructor\n " << RESET;
}
